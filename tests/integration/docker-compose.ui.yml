# UI override for CVAT integration tests.
#
# Adds cvat_ui and traefik to the stack. Traefik routes:
#   /api/, /static/, /admin, /django-rq  ->  cvat_server
#   everything else                      ->  cvat_ui
#
# Single port: API and UI both at http://localhost:${CVAT_PORT}.
# INTEGRATION_USER is set by integration_up.sh (defaults to "default").

services:
  traefik:
    container_name: ${INTEGRATION_USER:-default}-traefik
    ports:
      - "${CVAT_PORT:-8080}:8080"

  cvat_ui:
    container_name: ${INTEGRATION_USER:-default}-cvat_ui
