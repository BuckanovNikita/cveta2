repos:
  - repo: local
    hooks:
      - id: ruff-format
        name: ruff format (all files)
        entry: uv run ruff format .
        language: system
        pass_filenames: false
        always_run: true

      - id: ruff-check
        name: ruff check (all files)
        entry: uv run ruff check .
        language: system
        pass_filenames: false
        always_run: true

      - id: lint-imports
        name: import-linter (architecture)
        entry: uv run lint-imports
        language: system
        pass_filenames: false
        always_run: true

      - id: mypy
        name: mypy (all files)
        entry: uv run mypy .
        language: system
        pass_filenames: false
        always_run: true

      - id: vulture
        name: vulture (dead code)
        entry: uv run vulture
        language: system
        pass_filenames: false
        always_run: true

      - id: pytest
        name: pytest
        entry: uv run pytest -n auto
        language: system
        pass_filenames: false
        always_run: true

      - id: count-lines
        name: count lines of code
        entry: bash -c 'echo "Lines of code:"; find cveta2 -name "*.py" | xargs wc -l | tail -1'
        language: system
        pass_filenames: false
        always_run: true
        verbose: true

      - id: uv-build
        name: uv build (check project is buildable)
        entry: bash -c 'uv build --quiet && rm -rf dist'
        language: system
        pass_filenames: false
        always_run: true

      - id: uv-lock
        name: uv lock
        entry: uv lock
        language: system
        pass_filenames: false
        always_run: true
